{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';import{Link,navigate}from'@reach/router';import Form from'../components/Form';var Update=function Update(_ref){var id=_ref.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),editPet=_useState2[0],setEditPet=_useState2[1];var _useState3=useState({name:\"\",type:\"\",description:\"\",skill_one:\"\",skill_two:\"\",skill_three:\"\"}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];useEffect(function(){Axios.get(\"http://localhost:8000/api/pet/\".concat(id)).then(function(res){return setEditPet(res.data);}).catch(function(err){return navigate('/pets');});},[]);var handleChange=function handleChange(e){e.preventDefault();setEditPet(_objectSpread({},editPet,_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();Axios.put(\"http://localhost:8000/api/pet/\".concat(id),editPet).then(function(res){return navigate(\"/pets/\".concat(id));}).catch(function(err){return setErrors(err.response.data);});};return React.createElement(\"div\",null,React.createElement(Link,{className:\"btn btn-primary\",to:\"/pets\"},\"Go Home\"),React.createElement(\"hr\",null),React.createElement(\"h2\",null,\"Edit \",editPet.name),React.createElement(Form,{form:editPet,handleChange:handleChange,handleSubmit:handleSubmit,errors:errors}),React.createElement(\"br\",null),React.createElement(Link,{className:\"btn btn-warning\",to:\"/pets/\".concat(id)},\"Cancel\"));};export default Update;","map":{"version":3,"sources":["C:/Users/stant/Desktop/pet-shelter-good/client/src/views/Update.js"],"names":["React","useState","useEffect","Axios","Link","navigate","Form","Update","id","editPet","setEditPet","name","type","description","skill_one","skill_two","skill_three","errors","setErrors","get","then","res","data","catch","err","handleChange","e","preventDefault","target","value","handleSubmit","put","response"],"mappings":"4ZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,eAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAU,IAARC,CAAAA,EAAQ,MAARA,EAAQ,eACSP,QAAQ,CAAC,EAAD,CADjB,wCACdQ,OADc,eACLC,UADK,8BAEOT,QAAQ,CAAC,CACjCU,IAAI,CAAC,EAD4B,CAEjCC,IAAI,CAAC,EAF4B,CAGjCC,WAAW,CAAC,EAHqB,CAIjCC,SAAS,CAAC,EAJuB,CAKjCC,SAAS,CAAC,EALuB,CAMjCC,WAAW,CAAC,EANqB,CAAD,CAFf,yCAEdC,MAFc,eAENC,SAFM,eAWrBhB,SAAS,CAAC,UAAK,CACXC,KAAK,CAACgB,GAAN,yCAA2CX,EAA3C,GACKY,IADL,CACU,SAAAC,GAAG,QAAIX,CAAAA,UAAU,CAACW,GAAG,CAACC,IAAL,CAAd,EADb,EAEKC,KAFL,CAEW,SAAAC,GAAG,QAAInB,CAAAA,QAAQ,CAAC,OAAD,CAAZ,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMoB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAjB,UAAU,kBACHD,OADG,oBAELiB,CAAC,CAACE,MAAF,CAASjB,IAFJ,CAEWe,CAAC,CAACE,MAAF,CAASC,KAFpB,GAAV,CAIH,CAND,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAxB,KAAK,CAAC4B,GAAN,yCAA2CvB,EAA3C,EAAiDC,OAAjD,EACKW,IADL,CACU,SAAAC,GAAG,QAAIhB,CAAAA,QAAQ,iBAAUG,EAAV,EAAZ,EADb,EAEKe,KAFL,CAEW,SAAAC,GAAG,QAAIN,CAAAA,SAAS,CAACM,GAAG,CAACQ,QAAJ,CAAaV,IAAd,CAAb,EAFd,EAGH,CALD,CAOA,MACI,gCACI,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,OAArC,YADJ,CAEI,8BAFJ,CAGI,sCAAUb,OAAO,CAACE,IAAlB,CAHJ,CAII,oBAAC,IAAD,EACI,IAAI,CAAEF,OADV,CAEI,YAAY,CAAEgB,YAFlB,CAGI,YAAY,CAAEK,YAHlB,CAII,MAAM,CAAEb,MAJZ,EAJJ,CAUI,8BAVJ,CAWI,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,iBAAWT,EAAX,CAApC,WAXJ,CADJ,CAeH,CA/CD,CAiDA,cAAeD,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Link, navigate} from '@reach/router';\r\nimport Form from '../components/Form';\r\n\r\nconst Update = ({id}) => {\r\n    const [editPet, setEditPet] = useState({});\r\n    const [errors, setErrors] = useState({\r\n        name:\"\",\r\n        type:\"\",\r\n        description:\"\",\r\n        skill_one:\"\",\r\n        skill_two:\"\",\r\n        skill_three:\"\",\r\n    });\r\n\r\n    useEffect(()=> {\r\n        Axios.get(`http://localhost:8000/api/pet/${id}`)\r\n            .then(res => setEditPet(res.data))\r\n            .catch(err => navigate('/pets'))\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n        setEditPet({\r\n            ...editPet,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        Axios.put(`http://localhost:8000/api/pet/${id}`, editPet)\r\n            .then(res => navigate(`/pets/${id}`))\r\n            .catch(err => setErrors(err.response.data))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Link className=\"btn btn-primary\" to=\"/pets\">Go Home</Link>\r\n            <hr/>\r\n            <h2>Edit {editPet.name}</h2>\r\n            <Form\r\n                form={editPet}\r\n                handleChange={handleChange}\r\n                handleSubmit={handleSubmit}\r\n                errors={errors}\r\n            />\r\n            <br/>\r\n            <Link className=\"btn btn-warning\" to={`/pets/${id}`}>Cancel</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Update;"]},"metadata":{},"sourceType":"module"}