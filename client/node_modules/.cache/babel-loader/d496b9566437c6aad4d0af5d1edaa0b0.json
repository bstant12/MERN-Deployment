{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';import{Link,navigate}from'@reach/router';var Main=function Main(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){Axios.get('http://localhost:8000/api/pets').then(function(res){setPets(res.data);});},[]);var removeFromDom=function removeFromDom(petId){setPets(pets.filter(function(pet){return pet._id!==petId;}));};return React.createElement(\"div\",null,React.createElement(\"h3\",null,\"These pets are looking for a home!\"),React.createElement(\"hr\",null),React.createElement(Link,{className:\"btn btn-success\",to:\"/pets/new\"},\"Add a pet to the shelter\"),React.createElement(\"hr\",null),React.createElement(\"table\",{className:\"mx-auto col-4 table\"},React.createElement(\"thead\",{className:\"thead-dark\"},React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"Name\"),React.createElement(\"th\",{scope:\"col\"},\"Type\"),React.createElement(\"th\",{scope:\"col\"},\"Action\"))),React.createElement(\"tbody\",null,pets.map(function(p,idx){return React.createElement(\"tr\",null,React.createElement(\"td\",{key:idx},React.createElement(Link,{to:\"/pets/\".concat(p._id)},p.name)),React.createElement(\"td\",null,p.type),React.createElement(\"td\",null,React.createElement(Link,{to:\"/pets/\".concat(p._id,\"/edit\"),className:\"btn btn-success\"},\"Edit\"),React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return Axios.delete(\"http://localhost:8000/api/pet/\".concat(p._id)).then(function(res){navigate('/');}).then(function(res){return removeFromDom(p._id);});}},\"DELETE\")));}))));};export default Main;","map":{"version":3,"sources":["C:/Users/stant/Desktop/pet-shelter-good/client/src/views/Main.js"],"names":["React","useState","useEffect","Axios","Link","navigate","Main","props","pets","setPets","get","then","res","data","removeFromDom","petId","filter","pet","_id","map","p","idx","name","type","delete"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,eAA7B,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,eACIN,QAAQ,CAAC,EAAD,CADZ,wCACbO,IADa,eACPC,OADO,eAGpBP,SAAS,CAAC,UAAM,CACZC,KAAK,CAACO,GAAN,CAAU,gCAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTH,OAAO,CAACG,GAAG,CAACC,IAAL,CAAP,CACH,CAHL,EAIH,CALQ,CAKN,EALM,CAAT,CAOA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,KAAK,CAAI,CAC3BN,OAAO,CAACD,IAAI,CAACQ,MAAL,CAAY,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,GAAJ,GAAYH,KAAhB,EAAf,CAAD,CAAP,CACH,CAFD,CAIA,MACI,gCACI,mEADJ,CAEI,8BAFJ,CAGI,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,WAArC,6BAHJ,CAII,8BAJJ,CAKI,6BAAO,SAAS,CAAC,qBAAjB,EACI,6BAAO,SAAS,CAAC,YAAjB,EACI,8BACI,0BAAI,KAAK,CAAC,KAAV,SADJ,CAEI,0BAAI,KAAK,CAAC,KAAV,SAFJ,CAGI,0BAAI,KAAK,CAAC,KAAV,WAHJ,CADJ,CADJ,CAQI,iCAEQP,IAAI,CAACW,GAAL,CAAS,SAACC,CAAD,CAAIC,GAAJ,CAAY,CACjB,MACI,+BACI,0BAAI,GAAG,CAAEA,GAAT,EAAc,oBAAC,IAAD,EAAM,EAAE,iBAAWD,CAAC,CAACF,GAAb,CAAR,EAA6BE,CAAC,CAACE,IAA/B,CAAd,CADJ,CAEI,8BAAKF,CAAC,CAACG,IAAP,CAFJ,CAGI,8BACI,oBAAC,IAAD,EAAM,EAAE,iBAAWH,CAAC,CAACF,GAAb,SAAR,CAAiC,SAAS,CAAC,iBAA3C,SADJ,CAEI,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAC5Cf,CAAAA,KAAK,CAACqB,MAAN,yCAA8CJ,CAAC,CAACF,GAAhD,GACKP,IADL,CACU,SAAAC,GAAG,CAAI,CACTP,QAAQ,CAAC,GAAD,CAAR,CACH,CAHL,EAIKM,IAJL,CAIU,SAAAC,GAAG,QAAIE,CAAAA,aAAa,CAACM,CAAC,CAACF,GAAH,CAAjB,EAJb,CAD4C,EAA5C,WAFJ,CAHJ,CADJ,CAiBH,CAlBD,CAFR,CARJ,CALJ,CADJ,CAwCH,CAtDD,CAwDA,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Link, navigate} from '@reach/router';\r\n\r\nconst Main = (props) => {\r\n    const [pets, setPets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:8000/api/pets')\r\n            .then(res => {\r\n                setPets(res.data)\r\n            })\r\n    }, []);\r\n\r\n    const removeFromDom = petId => {\r\n        setPets(pets.filter(pet => pet._id !== petId))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h3>These pets are looking for a home!</h3>\r\n            <hr/>\r\n            <Link className=\"btn btn-success\" to=\"/pets/new\">Add a pet to the shelter</Link>\r\n            <hr/>\r\n            <table className=\"mx-auto col-4 table\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th scope=\"col\">Type</th>\r\n                        <th scope=\"col\">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        pets.map((p, idx) => {\r\n                            return(\r\n                                <tr>\r\n                                    <td key={idx}><Link to={`/pets/${p._id}`}>{p.name}</Link></td>\r\n                                    <td>{p.type}</td>\r\n                                    <td>\r\n                                        <Link to={`/pets/${p._id}/edit`} className=\"btn btn-success\">Edit</Link>\r\n                                        <button className=\"btn btn-danger\" onClick={() => \r\n                                        Axios.delete(`http://localhost:8000/api/pet/${p._id}`)\r\n                                            .then(res => {\r\n                                                navigate('/');\r\n                                            })\r\n                                            .then(res => removeFromDom(p._id))\r\n                                    }>DELETE</button>\r\n                                    </td>\r\n                                </tr>\r\n                                \r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}