{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\src\\\\views\\\\Main.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { Link, navigate } from '@reach/router';\n\nconst Main = props => {\n  const [pets, setPets] = useState([]);\n  useEffect(() => {\n    Axios.get('http://localhost:8000/api/pets').then(res => {\n      setPets(res.data);\n    });\n  }, []);\n\n  const removeFromDom = petId => {\n    setPets(pets.filter(pet => pet._id !== petId));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \"These pets are looking for a home!\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }), React.createElement(Link, {\n    className: \"btn btn-success\",\n    to: \"/pets/new\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"Add a pet to the shelter\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }), React.createElement(\"table\", {\n    className: \"mx-auto col-4 table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    className: \"thead-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Type\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Action\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, pets.map((p, idx) => {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      key: idx,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/pets/${p._id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, p.name)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, p.type), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/pets/${p._id}/edit`,\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => Axios.delete(`http://localhost:8000/api/pet/${p._id}`).then(res => {\n        navigate('/');\n      }).then(res => removeFromDom(p._id)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"DELETE\")));\n  }))));\n};\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/stant/Desktop/pet-shelter-good/client/src/views/Main.js"],"names":["React","useState","useEffect","Axios","Link","navigate","Main","props","pets","setPets","get","then","res","data","removeFromDom","petId","filter","pet","_id","map","p","idx","name","type","delete"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Link, navigate} from '@reach/router';\r\n\r\nconst Main = (props) => {\r\n    const [pets, setPets] = useState([]);\r\n\r\n    useEffect(() => {\r\n        Axios.get('http://localhost:8000/api/pets')\r\n            .then(res => {\r\n                setPets(res.data)\r\n            })\r\n    }, []);\r\n\r\n    const removeFromDom = petId => {\r\n        setPets(pets.filter(pet => pet._id !== petId))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h3>These pets are looking for a home!</h3>\r\n            <hr/>\r\n            <Link className=\"btn btn-success\" to=\"/pets/new\">Add a pet to the shelter</Link>\r\n            <hr/>\r\n            <table className=\"mx-auto col-4 table\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th scope=\"col\">Type</th>\r\n                        <th scope=\"col\">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        pets.map((p, idx) => {\r\n                            return(\r\n                                <tr>\r\n                                    <td key={idx}><Link to={`/pets/${p._id}`}>{p.name}</Link></td>\r\n                                    <td>{p.type}</td>\r\n                                    <td>\r\n                                        <Link to={`/pets/${p._id}/edit`} className=\"btn btn-success\">Edit</Link>\r\n                                        <button className=\"btn btn-danger\" onClick={() => \r\n                                        Axios.delete(`http://localhost:8000/api/pet/${p._id}`)\r\n                                            .then(res => {\r\n                                                navigate('/');\r\n                                            })\r\n                                            .then(res => removeFromDom(p._id))\r\n                                    }>DELETE</button>\r\n                                    </td>\r\n                                </tr>\r\n                                \r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}