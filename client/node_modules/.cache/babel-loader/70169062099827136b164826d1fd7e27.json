{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\stant\\\\Desktop\\\\pet-shelter-good\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';import{Link,navigate}from'@reach/router';import Form from'../components/Form';var Create=function Create(props){var _useState=useState({name:\"\",type:\"\",description:\"\",skill_one:\"\",skill_two:\"\",skill_three:\"\"}),_useState2=_slicedToArray(_useState,2),newPet=_useState2[0],setNewPet=_useState2[1];var _useState3=useState({name:\"\",type:\"\",description:\"\",skill_one:\"\",skill_two:\"\",skill_three:\"\"}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmitted=_useState6[0],setIsSubmitted=_useState6[1];var handleChange=function handleChange(e){e.preventDefault();setNewPet(_objectSpread({},newPet,_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();Axios.post('http://localhost:8000/api/pet',newPet).then(function(res){setNewPet({name:\"\",type:\"\",description:\"\",skill_one:\"\",skill_two:\"\",skill_three:\"\"});setErrors({name:\"\",type:\"\",description:\"\",skill_one:\"\",skill_two:\"\",skill_three:\"\"});// .setIsSubmitted(true)\n}).then(function(res){return navigate('/pets');}).catch(function(err){return setErrors(err.response.data);});};return React.createElement(\"div\",null,React.createElement(Link,{className:\"btn btn-primary\",to:\"/pets\"},\"GO HOME\"),React.createElement(\"hr\",null),React.createElement(\"h2\",null,\"Add Pet:\"),React.createElement(Form,{form:newPet,handleChange:handleChange,handleSubmit:handleSubmit,errors:errors}),React.createElement(\"br\",null),React.createElement(Link,{className:\"btn btn-warning\",to:\"/pets\"},\"Cancel\"));};export default Create;","map":{"version":3,"sources":["C:/Users/stant/Desktop/pet-shelter-good/client/src/views/Create.js"],"names":["React","useState","useEffect","Axios","Link","navigate","Form","Create","props","name","type","description","skill_one","skill_two","skill_three","newPet","setNewPet","errors","setErrors","isSubmitted","setIsSubmitted","handleChange","e","preventDefault","target","value","handleSubmit","post","then","res","catch","err","response","data"],"mappings":"4ZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,eAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,eAEMP,QAAQ,CAAC,CACjCQ,IAAI,CAAC,EAD4B,CAEjCC,IAAI,CAAC,EAF4B,CAGjCC,WAAW,CAAC,EAHqB,CAIjCC,SAAS,CAAC,EAJuB,CAKjCC,SAAS,CAAC,EALuB,CAMjCC,WAAW,CAAC,EANqB,CAAD,CAFd,wCAEfC,MAFe,eAEPC,SAFO,8BAWMf,QAAQ,CAAC,CACjCQ,IAAI,CAAC,EAD4B,CAEjCC,IAAI,CAAC,EAF4B,CAGjCC,WAAW,CAAC,EAHqB,CAIjCC,SAAS,CAAC,EAJuB,CAKjCC,SAAS,CAAC,EALuB,CAMjCC,WAAW,CAAC,EANqB,CAAD,CAXd,yCAWfG,MAXe,eAWPC,SAXO,8BAoBgBjB,QAAQ,CAAC,KAAD,CApBxB,yCAoBfkB,WApBe,eAoBFC,cApBE,eAsBtB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAP,SAAS,kBACFD,MADE,oBAEJO,CAAC,CAACE,MAAF,CAASf,IAFL,CAEYa,CAAC,CAACE,MAAF,CAASC,KAFrB,GAAT,CAIH,CAND,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACApB,KAAK,CAACwB,IAAN,CAAW,+BAAX,CAA4CZ,MAA5C,EACKa,IADL,CACU,SAAAC,GAAG,CAAI,CACTb,SAAS,CAAC,CACNP,IAAI,CAAC,EADC,CAENC,IAAI,CAAC,EAFC,CAGNC,WAAW,CAAC,EAHN,CAINC,SAAS,CAAC,EAJJ,CAKNC,SAAS,CAAC,EALJ,CAMNC,WAAW,CAAC,EANN,CAAD,CAAT,CAQAI,SAAS,CAAC,CACNT,IAAI,CAAC,EADC,CAENC,IAAI,CAAC,EAFC,CAGNC,WAAW,CAAC,EAHN,CAINC,SAAS,CAAC,EAJJ,CAKNC,SAAS,CAAC,EALJ,CAMNC,WAAW,CAAC,EANN,CAAD,CAAT,CAQA;AACH,CAnBL,EAoBKc,IApBL,CAoBU,SAAAC,GAAG,QAAIxB,CAAAA,QAAQ,CAAC,OAAD,CAAZ,EApBb,EAqBKyB,KArBL,CAqBW,SAAAC,GAAG,QAAIb,CAAAA,SAAS,CAACa,GAAG,CAACC,QAAJ,CAAaC,IAAd,CAAb,EArBd,EAsBH,CAxBD,CA0BA,MACI,gCACI,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,OAArC,YADJ,CAEI,8BAFJ,CAGI,yCAHJ,CAII,oBAAC,IAAD,EACI,IAAI,CAAElB,MADV,CAEI,YAAY,CAAEM,YAFlB,CAGI,YAAY,CAAEK,YAHlB,CAII,MAAM,CAAET,MAJZ,EAJJ,CAUI,8BAVJ,CAWI,oBAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,OAArC,WAXJ,CADJ,CAeH,CAvED,CAyEA,cAAeV,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport {Link, navigate} from '@reach/router';\r\nimport Form from '../components/Form';\r\n\r\nconst Create = (props) => {\r\n\r\n    const [newPet, setNewPet] = useState({\r\n        name:\"\",\r\n        type:\"\",\r\n        description:\"\",\r\n        skill_one:\"\",\r\n        skill_two:\"\",\r\n        skill_three:\"\",\r\n    })\r\n\r\n    const [errors, setErrors] = useState({\r\n        name:\"\",\r\n        type:\"\",\r\n        description:\"\",\r\n        skill_one:\"\",\r\n        skill_two:\"\",\r\n        skill_three:\"\",\r\n    })\r\n\r\n    const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n        setNewPet({\r\n            ...newPet,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        Axios.post('http://localhost:8000/api/pet', newPet)\r\n            .then(res => {\r\n                setNewPet({\r\n                    name:\"\",\r\n                    type:\"\",\r\n                    description:\"\",\r\n                    skill_one:\"\",\r\n                    skill_two:\"\",\r\n                    skill_three:\"\",\r\n                })\r\n                setErrors({\r\n                    name:\"\",\r\n                    type:\"\",\r\n                    description:\"\",\r\n                    skill_one:\"\",\r\n                    skill_two:\"\",\r\n                    skill_three:\"\",\r\n                })\r\n                // .setIsSubmitted(true)\r\n            })\r\n            .then(res => navigate('/pets'))\r\n            .catch(err => setErrors(err.response.data))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Link className=\"btn btn-primary\" to=\"/pets\">GO HOME</Link>\r\n            <hr/>\r\n            <h2>Add Pet:</h2>\r\n            <Form\r\n                form={newPet}\r\n                handleChange={handleChange}\r\n                handleSubmit={handleSubmit}\r\n                errors={errors}\r\n            />\r\n            <br/>\r\n            <Link className=\"btn btn-warning\" to=\"/pets\">Cancel</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Create;"]},"metadata":{},"sourceType":"module"}